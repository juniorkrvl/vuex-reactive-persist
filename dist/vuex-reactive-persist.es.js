var t,e=(function(t){t.exports.exists=function t(e,r){if("string"==typeof r&&(r=r.split(".")),!(r instanceof Array)||0===r.length)return!1;var n=(r=r.slice()).shift();return"object"==typeof e&&null!==e&&(0===r.length?Object.hasOwnProperty.apply(e,[n]):t(e[n],r))},t.exports.get=function t(e,r){if("string"==typeof r&&(r=r.split(".")),r instanceof Array&&0!==r.length){var n=(r=r.slice()).shift();if("object"==typeof e&&null!==e)return 0===r.length?e[n]:r.length?t(e[n],r):void 0}},t.exports.search=function t(e,r){if("string"==typeof r&&(r=r.split(".")),r instanceof Array&&0!==r.length){var n=(r=r.slice()).shift();if("object"==typeof e&&null!==e)return"*"===n&&(n=".*"),"string"==typeof n&&(n=new RegExp(n)),0===r.length?Object.keys(e).filter(n.test.bind(n)).map(function(t){return e[t]}):Array.prototype.concat.apply([],Object.keys(e).filter(n.test.bind(n)).map(function(n){return t(e[n],r)}))}},t.exports.put=function t(e,r,n){if("string"==typeof r&&(r=r.split(".")),!(r instanceof Array)||0===r.length)return!1;var i=(r=r.slice()).shift();return"object"==typeof e&&null!==e&&(0!==r.length?(void 0===e[i]&&(e[i]={}),"object"==typeof e[i]&&null!==e[i]&&t(e[i],r,n)):void(e[i]=n))},t.exports.remove=function t(e,r,n){if("string"==typeof r&&(r=r.split(".")),!(r instanceof Array)||0===r.length)return!1;var i=(r=r.slice()).shift();return"object"==typeof e&&null!==e&&(0===r.length?!!Object.hasOwnProperty.call(e,i)&&(delete e[i],!0):t(e[i],r,n))},t.exports.deepKeys=function t(e,r){void 0===r&&(r=[]);var n=[];for(var i in e)Object.hasOwnProperty.call(e,i)&&(n.push(r.concat([i])),"object"==typeof e[i]&&null!==e[i]&&(n=n.concat(t(e[i],r.concat([i])))));return n}}(t={exports:{}},t.exports),t.exports),r=function(t){var e=this,r=t.storage,n=t.reducer,i=t.parser;this.key=t.key||"vuex",this.previousValue="",this.watchers=[],this.reducer=n||JSON.stringify,this.parser=i||JSON.parse,this.storage=r||{getItem:function(t){return window.localStorage[t]},setItem:function(t,e){return window.localStorage[t]=e}},setInterval(function(){e.previousValue!==e.storage.get(e.key)&&e.watchers.forEach(function(t){return t()})},1e3)};r.prototype.getState=function(){try{return this.previousValue=this.storage.getItem(this.key),this.parser(this.previousValue)}catch(t){return this.storage.setItem(this.key,""),null}},r.prototype.setState=function(t){try{this.previousValue=this.reducer(t)}finally{this.storage.setItem(this.key,this.previousValue)}},r.prototype.on=function(t){return!!(t&&t instanceof Function)&&(this.watchers.push(t),!0)},r.prototype.off=function(t){var e=this.watchers.indexOf(t);return!(e<0)&&(this.watchers.splice(e,1),!0)};export default function(t){var n=(t=t||{}).mutations,i=t.filter,o=t.paths,s=new r(t);i=i||function(t){return!n||n.indexOf(t)>=0};var a=function(t){var e=s.getState();e&&t.replaceState(Object.assign(t.state,e))},c=function(r,n){var i=!1;n=n||r.state;var a=s.getState()||{};return(o||e.deepKeys(n)).forEach(function(o){var s=e.get(n,o),c=e.get(a,o);s!==c&&(i=!0,t.watch&&t.watch[o]&&t.watch[o](s,c,r))}),i};return function(r){var n;a(r),n=s.getState()||{},(o||[]).forEach(function(t){e.exists(n,t)||e.put(n,t,null)}),s.setState(n),t.initialized&&t.initialized(r),s.on(function(){c(r),a(r)}),r.subscribe(function(n,o){if(i(n.type||n)&&c(r,o)){var a=o;t.paths&&(a={},t.paths.forEach(function(t){var r=e.get(o,t);e.put(a,t,r)})),s.setState(a)}})}};
//# sourceMappingURL=vuex-reactive-persist.es.js.map
