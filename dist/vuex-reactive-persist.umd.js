!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.reactivePersist=e()}(this,function(){var t,e=(function(t){t.exports.exists=function t(e,n){if("string"==typeof n&&(n=n.split(".")),!(n instanceof Array)||0===n.length)return!1;var r=(n=n.slice()).shift();return"object"==typeof e&&null!==e&&(0===n.length?Object.hasOwnProperty.apply(e,[r]):t(e[r],n))},t.exports.get=function t(e,n){if("string"==typeof n&&(n=n.split(".")),n instanceof Array&&0!==n.length){var r=(n=n.slice()).shift();if("object"==typeof e&&null!==e)return 0===n.length?e[r]:n.length?t(e[r],n):void 0}},t.exports.search=function t(e,n){if("string"==typeof n&&(n=n.split(".")),n instanceof Array&&0!==n.length){var r=(n=n.slice()).shift();if("object"==typeof e&&null!==e)return"*"===r&&(r=".*"),"string"==typeof r&&(r=new RegExp(r)),0===n.length?Object.keys(e).filter(r.test.bind(r)).map(function(t){return e[t]}):Array.prototype.concat.apply([],Object.keys(e).filter(r.test.bind(r)).map(function(r){return t(e[r],n)}))}},t.exports.put=function t(e,n,r){if("string"==typeof n&&(n=n.split(".")),!(n instanceof Array)||0===n.length)return!1;var i=(n=n.slice()).shift();return"object"==typeof e&&null!==e&&(0!==n.length?(void 0===e[i]&&(e[i]={}),"object"==typeof e[i]&&null!==e[i]&&t(e[i],n,r)):void(e[i]=r))},t.exports.remove=function t(e,n,r){if("string"==typeof n&&(n=n.split(".")),!(n instanceof Array)||0===n.length)return!1;var i=(n=n.slice()).shift();return"object"==typeof e&&null!==e&&(0===n.length?!!Object.hasOwnProperty.call(e,i)&&(delete e[i],!0):t(e[i],n,r))},t.exports.deepKeys=function t(e,n){void 0===n&&(n=[]);var r=[];for(var i in e)Object.hasOwnProperty.call(e,i)&&(r.push(n.concat([i])),"object"==typeof e[i]&&null!==e[i]&&(r=r.concat(t(e[i],n.concat([i])))));return r}}(t={exports:{}},t.exports),t.exports),n=function(t){var e=this,n=t.storage,r=t.reducer,i=t.parser,o=t.disableWatch;this.key=t.key||"vuex",this.previousValue="",this.watchers=[],this.reducer=r||JSON.stringify,this.parser=i||JSON.parse,this.storage=n||{getItem:function(t){return window.localStorage[t]},setItem:function(t,e){return window.localStorage[t]=e}},o&&setInterval(function(){e.previousValue!==e.storage.get(e.key)&&e.watchers.forEach(function(t){return t()})},1e3)};return n.prototype.getState=function(){try{return this.previousValue=this.storage.getItem(this.key),this.parser(this.previousValue)}catch(t){return this.storage.setItem(this.key,""),null}},n.prototype.setState=function(t){try{this.previousValue=this.reducer(t)}finally{this.storage.setItem(this.key,this.previousValue)}},n.prototype.on=function(t){return!!(t&&t instanceof Function)&&(this.watchers.push(t),!0)},n.prototype.off=function(t){var e=this.watchers.indexOf(t);return!(e<0)&&(this.watchers.splice(e,1),!0)},function(t){var r=(t=t||{}).mutations,i=t.filter,o=t.paths,s=new n(t);i=i||function(t){return!r||r.indexOf(t)>=0};var a=function(t){var e=s.getState();e&&t.replaceState(Object.assign(t.state,e))},c=function(n,r){var i=!1;r=r||n.state;var a=s.getState()||{};return(o||e.deepKeys(r)).forEach(function(o){var s=e.get(r,o),c=e.get(a,o);s!==c&&(i=!0,t.watch&&t.watch[o]&&t.watch[o](s,c,n))}),i};return function(n){var r;a(n),r=s.getState()||{},(o||[]).forEach(function(t){e.exists(r,t)||e.put(r,t,null)}),s.setState(r),t.initialized&&t.initialized(n),s.on(function(){c(n),a(n)}),n.subscribe(function(r,o){if(i(r.type||r)&&c(n,o)){var a=o;t.paths&&(a={},t.paths.forEach(function(t){var n=e.get(o,t);e.put(a,t,n)})),s.setState(a)}})}}});
//# sourceMappingURL=vuex-reactive-persist.umd.js.map
